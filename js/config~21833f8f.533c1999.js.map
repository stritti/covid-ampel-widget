{"version":3,"sources":["webpack:///./src/components/Landkreise.vue?1ec7","webpack:///./src/views/Config.vue","webpack:///./src/components/Landkreise.vue","webpack:///./src/components/IncidenceLabel.vue","webpack:///./src/components/IncidenceLabel.vue?19eb","webpack:///./src/components/Landkreise.vue?2527","webpack:///./src/views/Config.vue?c71c","webpack:///./src/views/Config.vue?9ec1"],"names":["id","class","meta-info","metaInfo","title","left-text","left-arrow","onClickLeft","isLoading","size","color","vertical","error","name","data","item","OBJECTID","index","label","clickable","is-link","icon","selectedClass","onClick","GEN","BEZ","object-id","incidence","props","objectId","type","Number","required","mounted","this","getData","methods","getIncidence","then","attribute","features","attributes","cases7_per_100k","catch","console","rounded","value","toFixed","render","components","IncidenceLabel","selectedValue","getAreas","result","forEach","charAt","push","localStorage","getItem","log","finally","track","setItem","trackSelection","$router","$gtag","event","event_category","event_label","DocHead","Landkreise","__scopeId"],"mappings":"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","file":"js/config~21833f8f.533c1999.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Landkreise.vue?vue&type=style&index=0&id=77844e21&lang=scss\"","<template>\n  <div id=\"config-view\">\n    <doc-head :meta-info=\"metaInfo\" />\n\n    <van-sticky>\n      <van-nav-bar\n        title=\"Einstellungen\"\n        left-text=\"Zurück\"\n        left-arrow\n        @click-left=\"onClickLeft\"\n      />\n    </van-sticky>\n\n    <div class=\"container\">\n      <div class=\"head\">\n        <p>\n          Wählen sie bitte den gewünschten Landkreis aus:\n        </p>\n        <p>\n          Diese Einstellung wird nur lokal im Browser gespeichert.\n        </p>\n        <landkreise />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport DocHead from '@/components/DocHead.vue'\nimport Landkreise from '@/components/Landkreise.vue'\n\nexport default {\n  name: 'ConfigView',\n  components: { DocHead, Landkreise },\n  data () {\n    return {\n      metaInfo: {\n        title: 'Einstellungen | Covid-19 Ampel'\n      }\n    }\n  },\n  methods: {\n    onClickLeft () {\n      this.$router.push('/')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .head {\n    margin: 8px;\n  }\n</style>\n","<template>\n  <div class=\"landkreise\">\n    <van-loading\n      v-if=\"isLoading\"\n      size=\"24px\"\n      color=\"#1989fa\"\n      vertical\n    >\n      Lade Daten &hellip;\n    </van-loading>\n    <div\n      v-if=\"error\"\n      class=\"error\"\n    >\n      <van-icon name=\"warning-o\" /> {{ error }}\n    </div>\n    <template v-else>\n      <van-index-bar\n        class=\"landkreise--list\"\n      >\n        <template\n          v-for=\"item in data\"\n          :key=\"item.OBJECTID\"\n        >\n          <van-index-anchor\n            v-if=\"item.index\"\n            :index=\"item.label\"\n          />\n          <van-cell\n            v-else\n            clickable\n            is-link\n            icon=\"location-o\"\n            :class=\"selectedClass(item.OBJECTID)\"\n            @click=\"onClick(item.OBJECTID)\"\n          >\n            <template #title>\n              <h4 class=\"custom-title\">\n                {{ item.GEN }}\n              </h4>\n              <p>{{ item.BEZ }}</p>\n            </template>\n            <incidence-label :object-id=\"item.OBJECTID\" />\n          </van-cell>\n        </template>\n      </van-index-bar>\n    </template>\n  </div>\n</template>\n<script>\nimport { rkiService } from '@/services/rki.service.js'\nimport IncidenceLabel from '@/components/IncidenceLabel.vue'\n\nexport default {\n  name: 'Landkreise',\n  components: {\n    IncidenceLabel\n  },\n  data () {\n    return {\n      isLoading: false,\n      error: null,\n      data: [],\n      selectedValue: null\n    }\n  },\n  mounted () {\n    this.isLoading = true\n\n    rkiService.getAreas()\n      .then((result) => {\n        this.data = []\n        let index = null\n        result.forEach(item => {\n          if (item.attributes.GEN.charAt(0) !== index) {\n            // add Item for alphabetical anchor\n            index = item.attributes.GEN.charAt(0)\n            this.data.push({ OBJECTID: index, index: true, label: index })\n          }\n          this.data.push(item.attributes)\n        })\n        this.selectedValue = localStorage.getItem('landkreis')\n      })\n      .catch((error) => {\n        console.log(error)\n        this.error = 'Fehler beim Laden der Daten vom RKI-Server'\n      })\n      .finally(() => {\n        this.track()\n        this.isLoading = false\n      })\n  },\n\n  methods: {\n    onClick (id) {\n      localStorage.setItem('landkreis', id)\n      this.trackSelection(id)\n      this.$router.push(`/lkr/${id}`)\n    },\n    selectedClass (id) {\n      if (this.selectedValue === id) {\n        return 'van-cell--selected '\n      } else {\n        return ''\n      }\n    },\n    trackSelection (id) {\n      this.$gtag.event('api_request', {\n        event_category: 'lkr_select',\n        event_label: `${id}`\n      })\n    },\n    track () {\n      this.$gtag.event('api_request', {\n        event_category: 'lkr_load',\n        event_label: 'lkr_load'\n      })\n    }\n\n  }\n}\n</script>\n<style lang=\"scss\">\n.landkreise {\n  height: 100vh;\n}\n.landkreise--list {\n  .van-index-anchor {\n    color: var(--text);\n    background-color: var(--background-color-light);\n  }\n\n  .van-cell {\n    color: var(--text);\n    background-color: var(--background-color);\n\n    h4 {\n      margin-top: 0;\n      margin-bottom: 0;\n    }\n    p {\n      margin-top: 0;\n      margin-bottom: 0;\n    }\n  }\n   .van-cell--selected {\n    background-color: var(--background-color-light);\n  }\n  .van-cell__value--alone {\n    color: var(--text);\n  }\n  .error {\n    color: var(--red);\n  }\n}\n</style>\n","<template>\n  <span class=\"inzidenz\">\n    <van-tag\n      v-if=\"incidence\"\n      v-text=\"rounded(incidence)\"\n    />\n  </span>\n</template>\n\n<script>\nimport { rkiService } from '@/services/rki.service.js'\n\nexport default {\n  name: 'IncidenceLabel',\n  props: {\n    // See: https://npgeo-corona-npgeo-de.hub.arcgis.com/datasets/917fc37a709542548cc3be077a786c17_0\n    objectId: {\n      type: Number,\n      required: true\n    }\n  },\n  data () {\n    return {\n      error: false,\n      incidence: null\n    }\n  },\n  mounted () {\n    this.getData()\n  },\n  methods: {\n    getData () {\n      rkiService.getIncidence(this.objectId)\n        .then(data => {\n          const attribute = data.features[0].attributes\n          this.incidence = attribute.cases7_per_100k\n        })\n        .catch(error => {\n          console.error(error)\n          this.error = 'Fehler beim Laden der Daten vom RKI-Server'\n        })\n    },\n    rounded (value) {\n      return Number(value.toFixed(1))\n    }\n  }\n}\n</script>\n","import { render } from \"./IncidenceLabel.vue?vue&type=template&id=0940b38a\"\nimport script from \"./IncidenceLabel.vue?vue&type=script&lang=js\"\nexport * from \"./IncidenceLabel.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Landkreise.vue?vue&type=template&id=77844e21\"\nimport script from \"./Landkreise.vue?vue&type=script&lang=js\"\nexport * from \"./Landkreise.vue?vue&type=script&lang=js\"\n\nimport \"./Landkreise.vue?vue&type=style&index=0&id=77844e21&lang=scss\"\nscript.render = render\n\nexport default script","import { render } from \"./Config.vue?vue&type=template&id=cfe782c0&scoped=true\"\nimport script from \"./Config.vue?vue&type=script&lang=js\"\nexport * from \"./Config.vue?vue&type=script&lang=js\"\n\nimport \"./Config.vue?vue&type=style&index=0&id=cfe782c0&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-cfe782c0\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Config.vue?vue&type=style&index=0&id=cfe782c0&lang=scss&scoped=true\""],"sourceRoot":""}