{"version":3,"sources":["webpack:///./src/views/Config.vue","webpack:///./src/components/Landkreise.vue","webpack:///./src/components/IncidenceLabel.vue","webpack:///./src/components/IncidenceLabel.vue?cc70","webpack:///./src/components/Landkreise.vue?9cf0","webpack:///./src/views/Config.vue?92f2","webpack:///./src/components/Landkreise.vue?b983"],"names":["id","class","meta-info","metaInfo","title","left-text","left-arrow","onClickLeft","isLoading","size","color","vertical","data","item","key","OBJECTID","index","label","clickable","is-link","icon","selectedClass","onClick","GEN","BEZ","object-id","incidence","name","props","objectId","type","Number","required","error","mounted","this","getData","methods","getIncidence","then","attribute","features","attributes","cases7_per_100k","catch","console","rounded","value","toFixed","render","components","IncidenceLabel","selectedValue","getAreas","result","forEach","charAt","push","localStorage","getItem","finally","track","setItem","trackSelection","$router","$gtag","event","event_category","event_label","DocHead","Landkreise"],"mappings":"2IACOA,GAAG,e,GAYDC,MAAM,a,EACT,eAEI,SAFD,qDAEH,G,EACA,eAEI,SAFD,8DAEH,G,+KAlBJ,eAsBM,MAtBN,EAsBM,CArBJ,eAAkC,GAAvBC,YAAW,EAAAC,UAAQ,sBAE9B,eAOa,Q,wBANX,iBAKE,CALF,eAKE,GAJAC,MAAM,gBACNC,YAAU,SACVC,aAAA,GACC,YAAY,EAAAC,a,kCAIjB,eASM,MATN,EASM,CARJ,EAGA,EAIA,eAAc,O,iCCdf,oB,GAqBWN,MAAM,gB,4NA3BpB,eAkCM,YAhCI,EAAAO,W,iBADR,eAOc,G,MALZC,KAAK,OACLC,MAAM,UACNC,SAAA,I,yBACD,iBAED,C,mCACA,eAwBgB,GAxBDV,MAAM,cAAY,C,wBAE7B,iBAAoB,E,mBADtB,eAsBO,2BArBU,EAAAW,MAAI,SAAZC,G,wBADT,eAsBO,QApBJC,IAAKD,EAAKE,U,CAGHF,EAAKG,O,iBADb,eAGE,G,MADCA,MAAOH,EAAKI,O,qCAEf,eAaW,G,MAXTC,UAAA,GACAC,UAAA,GACAC,KAAK,aACJnB,MAAO,EAAAoB,cAAcR,EAAKE,UAC1B,QAAK,mBAAE,EAAAO,QAAQT,EAAKE,Y,CAEVX,MAAK,gBACd,iBAA4C,CAA5C,eAA4C,KAA5C,EAA4C,eAAhBS,EAAKU,KAAG,GACpC,eAAqB,wBAAfV,EAAKW,KAAG,O,wBAEhB,iBAA8C,CAA9C,eAA8C,GAA5BC,YAAWZ,EAAKE,U,kIC9BpCd,MAAM,Y,gFAAZ,eAKO,OALP,EAKO,CAHG,EAAAyB,W,iBADR,eAGE,G,kBADA,eAA2B,EAAZ,QAAC,EAAAA,a,yEAQP,GACbC,KAAM,iBACNC,MAAO,CAELC,SAAU,CACRC,KAAMC,OACNC,UAAU,IAGdpB,KATa,WAUX,MAAO,CACLqB,OAAO,EACPP,UAAW,OAGfQ,QAfa,WAgBXC,KAAKC,WAEPC,QAAS,CACPD,QADO,WACI,WACT,OAAWE,aAAcH,KAAKN,UAC3BU,MAAK,SAAA3B,GACJ,IAAM4B,EAAY5B,EAAK6B,SAAS,GAAGC,WACnC,EAAKhB,UAAYc,EAAUG,mBAE5BC,OAAM,SAAAX,GACLY,QAAQZ,MAAMA,GACd,EAAKA,MAAQ,iDAGnBa,QAZO,SAYEC,GACP,OAAOhB,OAAOgB,EAAMC,QAAQ,OCxClC,EAAOC,OAAS,EAED,QFoCA,GACbtB,KAAM,aACNuB,WAAY,CACVC,kBAEFvC,KALa,WAMX,MAAO,CACLJ,WAAY,EACZI,KAAM,GACNwC,cAAe,OAGnBlB,QAZa,WAYF,WACTC,KAAK3B,WAAY,EAEjB,OAAW6C,WACRd,MAAK,SAACe,GACL,EAAK1C,KAAO,GACZ,IAAII,EAAQ,KACZsC,EAAOC,SAAQ,SAAA1C,GACTA,EAAK6B,WAAWnB,IAAIiC,OAAO,KAAOxC,IAEpCA,EAAQH,EAAK6B,WAAWnB,IAAIiC,OAAO,GACnC,EAAK5C,KAAK6C,KAAK,CAAC1C,SAAUC,EAAOA,OAAO,EAAMC,MAAOD,KAEvD,EAAKJ,KAAK6C,KAAK5C,EAAK6B,eAEtB,EAAKU,cAAgBM,aAAaC,QAAQ,gBAE3CC,SAAQ,WACP,EAAKC,QACL,EAAKrD,WAAY,MAIvB6B,QAAS,CACPf,QADO,SACCtB,GACN0D,aAAaI,QAAQ,YAAa9D,GAClCmC,KAAK4B,eAAe/D,GACpBmC,KAAK6B,QAAQP,KAAb,eAA0BzD,KAE5BqB,cANO,SAMQrB,GACb,OAAGmC,KAAKiB,eAAiBpD,EAChB,sBAEA,IAGX+D,eAbO,SAaS/D,GACdmC,KAAK8B,MAAMC,MAAX,cAAgC,CAC9BC,eAAiB,aACjBC,YAAU,UAAOpE,MAGrB6D,MAnBO,WAoBL1B,KAAK8B,MAAMC,MAAX,cAAgC,CAC9B,eAAmB,WACnB,YAAgB,gB,UG7FxB,EAAOjB,OAAS,EAED,QJuBA,GACbtB,KAAM,aACNuB,WAAY,CAAEmB,UAAA,KAASC,cACvB1D,KAHa,WAIX,MAAO,CACLT,SAAU,CACRC,MAAO,2CAIbiC,QAAS,CACP9B,YADO,WAEL4B,KAAK6B,QAAQP,KAAK,QKvCxB,EAAOR,OAASA,EAED,gB,6DCLf","file":"js/config~21833f8f.2727a880.js","sourcesContent":["<template>\n  <div id=\"config-view\">\n    <doc-head :meta-info=\"metaInfo\" />\n\n    <van-sticky>\n      <van-nav-bar\n        title=\"Einstellungen\"\n        left-text=\"Zurück\"\n        left-arrow\n        @click-left=\"onClickLeft\"\n      />\n    </van-sticky>\n\n    <div class=\"container\">\n      <p>\n        Wählen sie bitte den gewünschten Landkreis aus:\n      </p>\n      <p>\n        Diese Einstellung wird nur lokal im Browser gespeichert.\n      </p>\n\n      <landkreise />\n    </div>\n  </div>\n</template>\n\n<script>\nimport DocHead from '@/components/DocHead.vue'\nimport Landkreise from '@/components/Landkreise.vue'\n\nexport default {\n  name: 'ConfigView',\n  components: { DocHead, Landkreise },\n  data() {\n    return {\n      metaInfo: {\n        title: 'Einstellungen | Covid-19 Ampel-Widget',\n      }\n    }\n  },\n  methods: {\n    onClickLeft () {\n      this.$router.push('/')\n    }\n  }\n}\n</script>\n","<template>\n  <div>\n    <van-loading\n      v-if=\"isLoading\"\n      size=\"24px\"\n      color=\"#1989fa\"\n      vertical\n    >\n      Lade Daten ...\n    </van-loading>\n    <van-index-bar class=\"landkreise\">\n      <span\n        v-for=\"item in data\"\n        :key=\"item.OBJECTID\"\n      >\n        <van-index-anchor\n          v-if=\"item.index\"\n          :index=\"item.label\"\n        />\n        <van-cell\n          v-else\n          clickable\n          is-link\n          icon=\"location-o\"\n          :class=\"selectedClass(item.OBJECTID)\"\n          @click=\"onClick(item.OBJECTID)\"\n        >\n          <template #title>\n            <h4 class=\"custom-title\">{{ item.GEN }}</h4>\n            <p>{{ item.BEZ }}</p>\n          </template>\n          <incidence-label :object-id=\"item.OBJECTID\" />\n        </van-cell>\n      </span>\n    </van-index-bar>\n  </div>\n</template>\n<script>\nimport { rkiService } from '@/services/rki.service.js'\nimport IncidenceLabel from '@/components/IncidenceLabel.vue'\n\nexport default {\n  name: 'Landkreise',\n  components: {\n    IncidenceLabel\n  },\n  data() {\n    return {\n      isLoading : false,\n      data: [],\n      selectedValue: null\n    }\n  },\n  mounted () {\n    this.isLoading = true\n\n    rkiService.getAreas()\n      .then((result) => {\n        this.data = []\n        let index = null\n        result.forEach(item => {\n          if (item.attributes.GEN.charAt(0) !== index) {\n            // add Item for alphabetical anchor\n            index = item.attributes.GEN.charAt(0)\n            this.data.push({OBJECTID: index, index: true, label: index })\n          }\n          this.data.push(item.attributes)\n        })\n        this.selectedValue = localStorage.getItem('landkreis')\n      })\n      .finally(() => {\n        this.track()\n        this.isLoading = false\n      })\n  },\n\n  methods: {\n    onClick(id) {\n      localStorage.setItem('landkreis', id)\n      this.trackSelection(id)\n      this.$router.push(`/lkr/${id}`)\n    },\n    selectedClass (id) {\n      if(this.selectedValue == id) {\n        return 'van-cell--selected '\n      } else {\n        return ''\n      }\n    },\n    trackSelection (id) {\n      this.$gtag.event(`api_request`, {\n        event_category : 'lkr_select',\n        event_label : `${id}`\n      })\n    },\n    track () {\n      this.$gtag.event(`api_request`, {\n        'event_category' : 'lkr_load',\n        'event_label' : 'lkr_load'\n      })\n    }\n\n  }\n}\n</script>\n<style lang=\"scss\">\n.landkreise {\n  .van-index-anchor {\n    color: var(--text);\n    background-color: var(--background-color-light);\n  }\n\n  .van-cell {\n    color: var(--text);\n    background-color: var(--background-color);\n\n    h4 {\n      margin-top: 0;\n      margin-bottom: 0;\n    }\n    p {\n      margin-top: 0;\n      margin-bottom: 0;\n    }\n  }\n   .van-cell--selected {\n    background-color: var(--background-color-light);\n  }\n  .van-cell__value--alone {\n    color: var(--text);\n  }\n}\n</style>\n","<template>\n  <span class=\"inzidenz\">\n    <van-tag\n      v-if=\"incidence\"\n      v-text=\"rounded(incidence)\"\n    />\n  </span>\n</template>\n\n<script>\nimport { rkiService } from '@/services/rki.service.js'\n\nexport default {\n  name: 'IncidenceLabel',\n  props: {\n    // See: https://npgeo-corona-npgeo-de.hub.arcgis.com/datasets/917fc37a709542548cc3be077a786c17_0\n    objectId: {\n      type: Number,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      error: false,\n      incidence: null,\n    }\n  },\n  mounted () {\n    this.getData()\n  },\n  methods: {\n    getData () {\n      rkiService.getIncidence( this.objectId )\n        .then(data => {\n          const attribute = data.features[0].attributes\n          this.incidence = attribute.cases7_per_100k\n        })\n        .catch(error => {\n          console.error(error)\n          this.error = 'Fehler beim Laden der Daten vom RKI-Server'\n        })\n    },\n    rounded (value) {\n      return Number(value.toFixed(1))\n    }\n  }\n}\n</script>\n","import { render } from \"./IncidenceLabel.vue?vue&type=template&id=16ccedfa\"\nimport script from \"./IncidenceLabel.vue?vue&type=script&lang=js\"\nexport * from \"./IncidenceLabel.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Landkreise.vue?vue&type=template&id=5e1818b4\"\nimport script from \"./Landkreise.vue?vue&type=script&lang=js\"\nexport * from \"./Landkreise.vue?vue&type=script&lang=js\"\n\nimport \"./Landkreise.vue?vue&type=style&index=0&id=5e1818b4&lang=scss\"\nscript.render = render\n\nexport default script","import { render } from \"./Config.vue?vue&type=template&id=433011fe\"\nimport script from \"./Config.vue?vue&type=script&lang=js\"\nexport * from \"./Config.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Landkreise.vue?vue&type=style&index=0&id=5e1818b4&lang=scss\""],"sourceRoot":""}