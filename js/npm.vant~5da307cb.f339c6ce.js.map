{"version":3,"sources":["webpack:///./node_modules/vant/es/sticky/style/less.js","webpack:///./node_modules/vant/es/sticky/Sticky.js","webpack:///./node_modules/vant/es/sticky/index.js","webpack:///./node_modules/vant/es/pull-refresh/style/less.js","webpack:///./node_modules/vant/es/pull-refresh/PullRefresh.js","webpack:///./node_modules/vant/es/pull-refresh/index.js"],"names":["bem","create","name","props","zIndex","Number","String","container","Object","offsetTop","type","default","offsetBottom","position","emits","emit","slots","root","scrollParent","useScrollParent","state","fixed","width","height","transform","offset","unit","rootStyle","stickyStyle","style","value","emitScroll","scrollTop","isFixed","onScroll","rootRect","useRect","window","containerRect","difference","bottom","top","clientHeight","document","documentElement","_containerRect","_difference","useEventListener","target","t","DEFAULT_HEAD_HEIGHT","TEXT_STATUS","disabled","Boolean","successText","pullingText","loosingText","loadingText","pullDistance","modelValue","successDuration","animationDuration","headHeight","reachTop","status","distance","duration","touch","getHeadStyle","isTouchable","ease","Math","round","setStatus","isLoading","getStatusText","renderStatus","nodes","includes","push","showSuccessTip","setTimeout","checkPosition","event","start","onTouchStart","onTouchMove","deltaY","move","isVertical","onTouchEnd","success","trackStyle","transitionDuration"],"mappings":"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","file":"js/npm.vant~5da307cb.f339c6ce.js","sourcesContent":["import '../../style/base.less';\nimport '../index.less';","import { createVNode as _createVNode } from \"vue\";\nimport { ref, watch, computed, reactive, defineComponent } from 'vue'; // Utils\n\nimport { extend, isHidden, unitToPx, getScrollTop, getZIndexStyle, createNamespace } from '../utils'; // Composables\n\nimport { useRect, useEventListener, useScrollParent } from '@vant/use';\nimport { useVisibilityChange } from '../composables/use-visibility-change';\nvar [name, bem] = createNamespace('sticky');\nexport default defineComponent({\n  name,\n  props: {\n    zIndex: [Number, String],\n    container: Object,\n    offsetTop: {\n      type: [Number, String],\n      default: 0\n    },\n    offsetBottom: {\n      type: [Number, String],\n      default: 0\n    },\n    position: {\n      type: String,\n      default: 'top'\n    }\n  },\n  emits: ['scroll', 'change'],\n\n  setup(props, {\n    emit,\n    slots\n  }) {\n    var root = ref();\n    var scrollParent = useScrollParent(root);\n    var state = reactive({\n      fixed: false,\n      width: 0,\n      // root width\n      height: 0,\n      // root height\n      transform: 0\n    });\n    var offset = computed(() => unitToPx(props.position === 'top' ? props.offsetTop : props.offsetBottom));\n    var rootStyle = computed(() => {\n      var {\n        fixed,\n        height,\n        width\n      } = state;\n\n      if (fixed) {\n        return {\n          width: width + \"px\",\n          height: height + \"px\"\n        };\n      }\n    });\n    var stickyStyle = computed(() => {\n      if (!state.fixed) {\n        return;\n      }\n\n      var style = extend(getZIndexStyle(props.zIndex), {\n        width: state.width + \"px\",\n        height: state.height + \"px\",\n        [props.position]: offset.value + \"px\"\n      });\n\n      if (state.transform) {\n        style.transform = \"translate3d(0, \" + state.transform + \"px, 0)\";\n      }\n\n      return style;\n    });\n\n    var emitScroll = scrollTop => emit('scroll', {\n      scrollTop,\n      isFixed: state.fixed\n    });\n\n    var onScroll = () => {\n      if (!root.value || isHidden(root)) {\n        return;\n      }\n\n      var {\n        container,\n        position\n      } = props;\n      var rootRect = useRect(root);\n      var scrollTop = getScrollTop(window);\n      state.width = rootRect.width;\n      state.height = rootRect.height;\n\n      if (position === 'top') {\n        // The sticky component should be kept inside the container element\n        if (container) {\n          var containerRect = useRect(container);\n          var difference = containerRect.bottom - offset.value - state.height;\n          state.fixed = offset.value > rootRect.top && containerRect.bottom > 0;\n          state.transform = difference < 0 ? difference : 0;\n        } else {\n          state.fixed = offset.value > rootRect.top;\n        }\n      } else {\n        var {\n          clientHeight\n        } = document.documentElement;\n\n        if (container) {\n          var _containerRect = useRect(container);\n\n          var _difference = clientHeight - _containerRect.top - offset.value - state.height;\n\n          state.fixed = clientHeight - offset.value < rootRect.bottom && clientHeight > _containerRect.top;\n          state.transform = _difference < 0 ? -_difference : 0;\n        } else {\n          state.fixed = clientHeight - offset.value < rootRect.bottom;\n        }\n      }\n\n      emitScroll(scrollTop);\n    };\n\n    watch(() => state.fixed, value => emit('change', value));\n    useEventListener('scroll', onScroll, {\n      target: scrollParent\n    });\n    useVisibilityChange(root, onScroll);\n    return () => _createVNode(\"div\", {\n      \"ref\": root,\n      \"style\": rootStyle.value\n    }, [_createVNode(\"div\", {\n      \"class\": bem({\n        fixed: state.fixed\n      }),\n      \"style\": stickyStyle.value\n    }, [slots.default == null ? void 0 : slots.default()])]);\n  }\n\n});","import { withInstall } from '../utils';\nimport _Sticky from './Sticky';\nvar Sticky = withInstall(_Sticky);\nexport default Sticky;\nexport { Sticky };","import '../../style/base.less';\nimport '../../loading/index.less';\nimport '../index.less';","import { createVNode as _createVNode } from \"vue\";\nimport { ref, watch, reactive, nextTick, defineComponent } from 'vue'; // Utils\n\nimport { preventDefault, getScrollTop, createNamespace } from '../utils'; // Composables\n\nimport { useScrollParent } from '@vant/use';\nimport { useTouch } from '../composables/use-touch'; // Components\n\nimport { Loading } from '../loading';\nvar [name, bem, t] = createNamespace('pull-refresh');\nvar DEFAULT_HEAD_HEIGHT = 50;\nvar TEXT_STATUS = ['pulling', 'loosing', 'success'];\nexport default defineComponent({\n  name,\n  props: {\n    disabled: Boolean,\n    successText: String,\n    pullingText: String,\n    loosingText: String,\n    loadingText: String,\n    pullDistance: [Number, String],\n    modelValue: {\n      type: Boolean,\n      default: false\n    },\n    successDuration: {\n      type: [Number, String],\n      default: 500\n    },\n    animationDuration: {\n      type: [Number, String],\n      default: 300\n    },\n    headHeight: {\n      type: [Number, String],\n      default: DEFAULT_HEAD_HEIGHT\n    }\n  },\n  emits: ['refresh', 'update:modelValue'],\n\n  setup(props, {\n    emit,\n    slots\n  }) {\n    var reachTop;\n    var root = ref();\n    var scrollParent = useScrollParent(root);\n    var state = reactive({\n      status: 'normal',\n      distance: 0,\n      duration: 0\n    });\n    var touch = useTouch();\n\n    var getHeadStyle = () => {\n      if (props.headHeight !== DEFAULT_HEAD_HEIGHT) {\n        return {\n          height: props.headHeight + \"px\"\n        };\n      }\n    };\n\n    var isTouchable = () => state.status !== 'loading' && state.status !== 'success' && !props.disabled;\n\n    var ease = distance => {\n      var pullDistance = +(props.pullDistance || props.headHeight);\n\n      if (distance > pullDistance) {\n        if (distance < pullDistance * 2) {\n          distance = pullDistance + (distance - pullDistance) / 2;\n        } else {\n          distance = pullDistance * 1.5 + (distance - pullDistance * 2) / 4;\n        }\n      }\n\n      return Math.round(distance);\n    };\n\n    var setStatus = (distance, isLoading) => {\n      var pullDistance = +(props.pullDistance || props.headHeight);\n      state.distance = distance;\n\n      if (isLoading) {\n        state.status = 'loading';\n      } else if (distance === 0) {\n        state.status = 'normal';\n      } else if (distance < pullDistance) {\n        state.status = 'pulling';\n      } else {\n        state.status = 'loosing';\n      }\n    };\n\n    var getStatusText = () => {\n      var {\n        status\n      } = state;\n\n      if (status === 'normal') {\n        return '';\n      }\n\n      return props[status + \"Text\"] || t(status);\n    };\n\n    var renderStatus = () => {\n      var {\n        status,\n        distance\n      } = state;\n\n      if (slots[status]) {\n        return slots[status]({\n          distance\n        });\n      }\n\n      var nodes = [];\n\n      if (TEXT_STATUS.includes(status)) {\n        nodes.push(_createVNode(\"div\", {\n          \"class\": bem('text')\n        }, [getStatusText()]));\n      }\n\n      if (status === 'loading') {\n        nodes.push(_createVNode(Loading, {\n          \"class\": bem('loading')\n        }, {\n          default: () => [getStatusText()]\n        }));\n      }\n\n      return nodes;\n    };\n\n    var showSuccessTip = () => {\n      state.status = 'success';\n      setTimeout(() => {\n        setStatus(0);\n      }, +props.successDuration);\n    };\n\n    var checkPosition = event => {\n      reachTop = getScrollTop(scrollParent.value) === 0;\n\n      if (reachTop) {\n        state.duration = 0;\n        touch.start(event);\n      }\n    };\n\n    var onTouchStart = event => {\n      if (isTouchable()) {\n        checkPosition(event);\n      }\n    };\n\n    var onTouchMove = event => {\n      if (isTouchable()) {\n        if (!reachTop) {\n          checkPosition(event);\n        }\n\n        var {\n          deltaY\n        } = touch;\n        touch.move(event);\n\n        if (reachTop && deltaY.value >= 0 && touch.isVertical()) {\n          preventDefault(event);\n          setStatus(ease(deltaY.value));\n        }\n      }\n    };\n\n    var onTouchEnd = () => {\n      if (reachTop && touch.deltaY.value && isTouchable()) {\n        state.duration = +props.animationDuration;\n\n        if (state.status === 'loosing') {\n          setStatus(+props.headHeight, true);\n          emit('update:modelValue', true); // ensure value change can be watched\n\n          nextTick(() => emit('refresh'));\n        } else {\n          setStatus(0);\n        }\n      }\n    };\n\n    watch(() => props.modelValue, value => {\n      state.duration = +props.animationDuration;\n\n      if (value) {\n        setStatus(+props.headHeight, true);\n      } else if (slots.success || props.successText) {\n        showSuccessTip();\n      } else {\n        setStatus(0, false);\n      }\n    });\n    return () => {\n      var trackStyle = {\n        transitionDuration: state.duration + \"ms\",\n        transform: state.distance ? \"translate3d(0,\" + state.distance + \"px, 0)\" : ''\n      };\n      return _createVNode(\"div\", {\n        \"ref\": root,\n        \"class\": bem()\n      }, [_createVNode(\"div\", {\n        \"class\": bem('track'),\n        \"style\": trackStyle,\n        \"onTouchstart\": onTouchStart,\n        \"onTouchmove\": onTouchMove,\n        \"onTouchend\": onTouchEnd,\n        \"onTouchcancel\": onTouchEnd\n      }, [_createVNode(\"div\", {\n        \"class\": bem('head'),\n        \"style\": getHeadStyle()\n      }, [renderStatus()]), slots.default == null ? void 0 : slots.default()])]);\n    };\n  }\n\n});","import { withInstall } from '../utils';\nimport _PullRefresh from './PullRefresh';\nvar PullRefresh = withInstall(_PullRefresh);\nexport default PullRefresh;\nexport { PullRefresh };"],"sourceRoot":""}