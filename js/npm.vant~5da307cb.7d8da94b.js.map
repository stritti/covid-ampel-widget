{"version":3,"sources":["webpack:///./node_modules/vant/es/sticky/style/less.js","webpack:///./node_modules/vant/es/sticky/Sticky.js","webpack:///./node_modules/vant/es/sticky/index.js","webpack:///./node_modules/vant/es/pull-refresh/style/less.js","webpack:///./node_modules/vant/es/pull-refresh/PullRefresh.js","webpack:///./node_modules/vant/es/pull-refresh/index.js"],"names":["bem","create","name","props","zIndex","position","container","Object","offsetTop","offsetBottom","emits","emit","slots","root","scrollParent","useScrollParent","state","fixed","width","height","transform","offset","rootStyle","stickyStyle","style","value","emitScroll","scrollTop","isFixed","onScroll","rootRect","useRect","window","containerRect","difference","bottom","top","clientHeight","document","documentElement","_containerRect","_difference","useEventListener","target","default","t","DEFAULT_HEAD_HEIGHT","TEXT_STATUS","disabled","Boolean","modelValue","headHeight","successText","String","pullingText","loosingText","loadingText","pullDistance","successDuration","animationDuration","reachTop","status","distance","duration","touch","getHeadStyle","isTouchable","ease","Math","round","setStatus","isLoading","getStatusText","renderStatus","nodes","includes","push","showSuccessTip","setTimeout","checkPosition","event","start","onTouchStart","onTouchMove","deltaY","move","isVertical","onTouchEnd","success","trackStyle","transitionDuration"],"mappings":"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","file":"js/npm.vant~5da307cb.7d8da94b.js","sourcesContent":["import '../../style/base.less';\nimport '../index.less';","import { createVNode as _createVNode } from \"vue\";\nimport { ref, watch, computed, reactive, defineComponent } from 'vue'; // Utils\n\nimport { extend, isHidden, unitToPx, numericProp, getScrollTop, getZIndexStyle, makeStringProp, makeNumericProp, createNamespace } from '../utils'; // Composables\n\nimport { useRect, useEventListener, useScrollParent } from '@vant/use';\nimport { useVisibilityChange } from '../composables/use-visibility-change';\nvar [name, bem] = createNamespace('sticky');\nexport default defineComponent({\n  name,\n  props: {\n    zIndex: numericProp,\n    position: makeStringProp('top'),\n    container: Object,\n    offsetTop: makeNumericProp(0),\n    offsetBottom: makeNumericProp(0)\n  },\n  emits: ['scroll', 'change'],\n\n  setup(props, {\n    emit,\n    slots\n  }) {\n    var root = ref();\n    var scrollParent = useScrollParent(root);\n    var state = reactive({\n      fixed: false,\n      width: 0,\n      // root width\n      height: 0,\n      // root height\n      transform: 0\n    });\n    var offset = computed(() => unitToPx(props.position === 'top' ? props.offsetTop : props.offsetBottom));\n    var rootStyle = computed(() => {\n      var {\n        fixed,\n        height,\n        width\n      } = state;\n\n      if (fixed) {\n        return {\n          width: width + \"px\",\n          height: height + \"px\"\n        };\n      }\n    });\n    var stickyStyle = computed(() => {\n      if (!state.fixed) {\n        return;\n      }\n\n      var style = extend(getZIndexStyle(props.zIndex), {\n        width: state.width + \"px\",\n        height: state.height + \"px\",\n        [props.position]: offset.value + \"px\"\n      });\n\n      if (state.transform) {\n        style.transform = \"translate3d(0, \" + state.transform + \"px, 0)\";\n      }\n\n      return style;\n    });\n\n    var emitScroll = scrollTop => emit('scroll', {\n      scrollTop,\n      isFixed: state.fixed\n    });\n\n    var onScroll = () => {\n      if (!root.value || isHidden(root)) {\n        return;\n      }\n\n      var {\n        container,\n        position\n      } = props;\n      var rootRect = useRect(root);\n      var scrollTop = getScrollTop(window);\n      state.width = rootRect.width;\n      state.height = rootRect.height;\n\n      if (position === 'top') {\n        // The sticky component should be kept inside the container element\n        if (container) {\n          var containerRect = useRect(container);\n          var difference = containerRect.bottom - offset.value - state.height;\n          state.fixed = offset.value > rootRect.top && containerRect.bottom > 0;\n          state.transform = difference < 0 ? difference : 0;\n        } else {\n          state.fixed = offset.value > rootRect.top;\n        }\n      } else {\n        var {\n          clientHeight\n        } = document.documentElement;\n\n        if (container) {\n          var _containerRect = useRect(container);\n\n          var _difference = clientHeight - _containerRect.top - offset.value - state.height;\n\n          state.fixed = clientHeight - offset.value < rootRect.bottom && clientHeight > _containerRect.top;\n          state.transform = _difference < 0 ? -_difference : 0;\n        } else {\n          state.fixed = clientHeight - offset.value < rootRect.bottom;\n        }\n      }\n\n      emitScroll(scrollTop);\n    };\n\n    watch(() => state.fixed, value => emit('change', value));\n    useEventListener('scroll', onScroll, {\n      target: scrollParent\n    });\n    useVisibilityChange(root, onScroll);\n    return () => _createVNode(\"div\", {\n      \"ref\": root,\n      \"style\": rootStyle.value\n    }, [_createVNode(\"div\", {\n      \"class\": bem({\n        fixed: state.fixed\n      }),\n      \"style\": stickyStyle.value\n    }, [slots.default == null ? void 0 : slots.default()])]);\n  }\n\n});","import { withInstall } from '../utils';\nimport _Sticky from './Sticky';\nexport var Sticky = withInstall(_Sticky);\nexport default Sticky;","import '../../style/base.less';\nimport '../../loading/index.less';\nimport '../index.less';","import { resolveDirective as _resolveDirective, createVNode as _createVNode } from \"vue\";\nimport { ref, watch, reactive, nextTick, defineComponent } from 'vue'; // Utils\n\nimport { numericProp, getScrollTop, preventDefault, createNamespace, makeNumericProp } from '../utils'; // Composables\n\nimport { useScrollParent } from '@vant/use';\nimport { useTouch } from '../composables/use-touch'; // Components\n\nimport { Loading } from '../loading';\nvar [name, bem, t] = createNamespace('pull-refresh');\nvar DEFAULT_HEAD_HEIGHT = 50;\nvar TEXT_STATUS = ['pulling', 'loosing', 'success'];\nexport default defineComponent({\n  name,\n  props: {\n    disabled: Boolean,\n    modelValue: Boolean,\n    headHeight: makeNumericProp(DEFAULT_HEAD_HEIGHT),\n    successText: String,\n    pullingText: String,\n    loosingText: String,\n    loadingText: String,\n    pullDistance: numericProp,\n    successDuration: makeNumericProp(500),\n    animationDuration: makeNumericProp(300)\n  },\n  emits: ['refresh', 'update:modelValue'],\n\n  setup(props, {\n    emit,\n    slots\n  }) {\n    var reachTop;\n    var root = ref();\n    var scrollParent = useScrollParent(root);\n    var state = reactive({\n      status: 'normal',\n      distance: 0,\n      duration: 0\n    });\n    var touch = useTouch();\n\n    var getHeadStyle = () => {\n      if (props.headHeight !== DEFAULT_HEAD_HEIGHT) {\n        return {\n          height: props.headHeight + \"px\"\n        };\n      }\n    };\n\n    var isTouchable = () => state.status !== 'loading' && state.status !== 'success' && !props.disabled;\n\n    var ease = distance => {\n      var pullDistance = +(props.pullDistance || props.headHeight);\n\n      if (distance > pullDistance) {\n        if (distance < pullDistance * 2) {\n          distance = pullDistance + (distance - pullDistance) / 2;\n        } else {\n          distance = pullDistance * 1.5 + (distance - pullDistance * 2) / 4;\n        }\n      }\n\n      return Math.round(distance);\n    };\n\n    var setStatus = (distance, isLoading) => {\n      var pullDistance = +(props.pullDistance || props.headHeight);\n      state.distance = distance;\n\n      if (isLoading) {\n        state.status = 'loading';\n      } else if (distance === 0) {\n        state.status = 'normal';\n      } else if (distance < pullDistance) {\n        state.status = 'pulling';\n      } else {\n        state.status = 'loosing';\n      }\n    };\n\n    var getStatusText = () => {\n      var {\n        status\n      } = state;\n\n      if (status === 'normal') {\n        return '';\n      }\n\n      return props[status + \"Text\"] || t(status);\n    };\n\n    var renderStatus = () => {\n      var {\n        status,\n        distance\n      } = state;\n\n      if (slots[status]) {\n        return slots[status]({\n          distance\n        });\n      }\n\n      var nodes = [];\n\n      if (TEXT_STATUS.includes(status)) {\n        nodes.push(_createVNode(\"div\", {\n          \"class\": bem('text')\n        }, [getStatusText()]));\n      }\n\n      if (status === 'loading') {\n        nodes.push(_createVNode(Loading, {\n          \"class\": bem('loading')\n        }, {\n          default: getStatusText\n        }));\n      }\n\n      return nodes;\n    };\n\n    var showSuccessTip = () => {\n      state.status = 'success';\n      setTimeout(() => {\n        setStatus(0);\n      }, +props.successDuration);\n    };\n\n    var checkPosition = event => {\n      reachTop = getScrollTop(scrollParent.value) === 0;\n\n      if (reachTop) {\n        state.duration = 0;\n        touch.start(event);\n      }\n    };\n\n    var onTouchStart = event => {\n      if (isTouchable()) {\n        checkPosition(event);\n      }\n    };\n\n    var onTouchMove = event => {\n      if (isTouchable()) {\n        if (!reachTop) {\n          checkPosition(event);\n        }\n\n        var {\n          deltaY\n        } = touch;\n        touch.move(event);\n\n        if (reachTop && deltaY.value >= 0 && touch.isVertical()) {\n          preventDefault(event);\n          setStatus(ease(deltaY.value));\n        }\n      }\n    };\n\n    var onTouchEnd = () => {\n      if (reachTop && touch.deltaY.value && isTouchable()) {\n        state.duration = +props.animationDuration;\n\n        if (state.status === 'loosing') {\n          setStatus(+props.headHeight, true);\n          emit('update:modelValue', true); // ensure value change can be watched\n\n          nextTick(() => emit('refresh'));\n        } else {\n          setStatus(0);\n        }\n      }\n    };\n\n    watch(() => props.modelValue, value => {\n      state.duration = +props.animationDuration;\n\n      if (value) {\n        setStatus(+props.headHeight, true);\n      } else if (slots.success || props.successText) {\n        showSuccessTip();\n      } else {\n        setStatus(0, false);\n      }\n    });\n    return () => {\n      var trackStyle = {\n        transitionDuration: state.duration + \"ms\",\n        transform: state.distance ? \"translate3d(0,\" + state.distance + \"px, 0)\" : ''\n      };\n      return _createVNode(\"div\", {\n        \"ref\": root,\n        \"class\": bem()\n      }, [_createVNode(\"div\", {\n        \"class\": bem('track'),\n        \"style\": trackStyle,\n        \"onTouchstart\": onTouchStart,\n        \"onTouchmove\": onTouchMove,\n        \"onTouchend\": onTouchEnd,\n        \"onTouchcancel\": onTouchEnd\n      }, [_createVNode(\"div\", {\n        \"class\": bem('head'),\n        \"style\": getHeadStyle()\n      }, [renderStatus()]), slots.default == null ? void 0 : slots.default()])]);\n    };\n  }\n\n});","import { withInstall } from '../utils';\nimport _PullRefresh from './PullRefresh';\nexport var PullRefresh = withInstall(_PullRefresh);\nexport default PullRefresh;"],"sourceRoot":""}