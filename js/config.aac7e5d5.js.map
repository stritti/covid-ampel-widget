{"version":3,"file":"js/config.aac7e5d5.js","mappings":"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","sources":["webpack://covid-ampel/./src/views/Config.vue","webpack://covid-ampel/./src/components/Landkreise.vue","webpack://covid-ampel/./src/components/incidence/IncidenceLabel.vue","webpack://covid-ampel/./src/components/incidence/IncidenceLabel.vue?80e0","webpack://covid-ampel/./src/components/Landkreise.vue?7280","webpack://covid-ampel/./src/views/Config.vue?d478"],"sourcesContent":["<template>\n  <div id=\"config-view\">\n    <doc-head :meta-info=\"metaInfo\" />\n\n    <van-sticky>\n      <van-nav-bar\n        title=\"Einstellungen\"\n        left-text=\"Zurück\"\n        left-arrow\n        @click-left=\"onClickLeft\"\n      />\n    </van-sticky>\n\n    <div class=\"container\">\n      <div class=\"head\">\n        <p>\n          Wählen sie bitte den gewünschten Landkreis aus:\n        </p>\n        <p>\n          Diese Einstellung wird nur lokal im Browser gespeichert.\n        </p>\n        <landkreise />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport DocHead from '@/components/DocHead.vue'\nimport Landkreise from '@/components/Landkreise.vue'\n\nexport default {\n  name: 'ConfigView',\n  components: { DocHead, Landkreise },\n  data () {\n    return {\n      metaInfo: {\n        title: 'Einstellungen | Covid-19 Ampel'\n      }\n    }\n  },\n  methods: {\n    onClickLeft () {\n      this.$router.push('/')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .head {\n    margin: 8px;\n  }\n</style>\n","<template>\n  <div class=\"landkreise\">\n    <van-loading\n      v-if=\"isLoading\"\n      size=\"24px\"\n      color=\"#1989fa\"\n      vertical\n    >\n      Lade Daten &hellip;\n    </van-loading>\n    <div\n      v-if=\"error\"\n      class=\"error\"\n    >\n      <van-icon name=\"warning-o\" /> {{ error }}\n    </div>\n    <template v-else>\n      <van-index-bar\n        class=\"landkreise--list\"\n      >\n        <template\n          v-for=\"item in data\"\n          :key=\"item.OBJECTID\"\n        >\n          <van-index-anchor\n            v-if=\"item.index\"\n            :index=\"item.label\"\n          />\n          <van-cell\n            v-else\n            clickable\n            is-link\n            icon=\"location-o\"\n            :class=\"selectedClass(item.OBJECTID)\"\n            @click=\"onClick(item.OBJECTID)\"\n          >\n            <template #title>\n              <h4 class=\"custom-title\">\n                {{ item.GEN }}\n              </h4>\n              <p>{{ item.BEZ }}</p>\n            </template>\n            <incidence-label :object-id=\"item.OBJECTID\" />\n          </van-cell>\n        </template>\n      </van-index-bar>\n    </template>\n  </div>\n</template>\n<script>\nimport { rkiService } from '@/services/rki.service.js'\nimport IncidenceLabel from '@/components/incidence/IncidenceLabel.vue'\n\nexport default {\n  name: 'Landkreise',\n  components: {\n    IncidenceLabel\n  },\n  data () {\n    return {\n      isLoading: false,\n      error: null,\n      data: [],\n      selectedValue: null\n    }\n  },\n  mounted () {\n    this.isLoading = true\n\n    rkiService.getAreas()\n      .then((result) => {\n        this.data = []\n        let index = null\n        result.forEach(item => {\n          if (item.attributes.GEN.charAt(0) !== index) {\n            // add Item for alphabetical anchor\n            index = item.attributes.GEN.charAt(0)\n            this.data.push({ OBJECTID: index, index: true, label: index })\n          }\n          this.data.push(item.attributes)\n        })\n        this.selectedValue = localStorage.getItem('landkreis')\n      })\n      .catch((error) => {\n        console.log(error)\n        this.error = 'Fehler beim Laden der Daten vom RKI-Server'\n      })\n      .finally(() => {\n        this.track()\n        this.isLoading = false\n      })\n  },\n\n  methods: {\n    onClick (id) {\n      localStorage.setItem('landkreis', id)\n      this.trackSelection(id)\n      this.$router.push(`/lkr/${id}`)\n    },\n    selectedClass (id) {\n      if (this.selectedValue === id) {\n        return 'van-cell--selected '\n      } else {\n        return ''\n      }\n    },\n    trackSelection (id) {\n      this.$gtag.event('api_request', {\n        event_category: 'lkr_select',\n        event_label: `${id}`\n      })\n    },\n    track () {\n      this.$gtag.event('api_request', {\n        event_category: 'lkr_load',\n        event_label: 'lkr_load'\n      })\n    }\n\n  }\n}\n</script>\n<style lang=\"scss\">\n.landkreise {\n  height: 100vh;\n}\n.landkreise--list {\n  .van-index-anchor {\n    color: var(--text);\n    background-color: var(--background-color-light);\n  }\n\n  .van-cell {\n    color: var(--text);\n    background-color: var(--background-color);\n\n    h4 {\n      margin-top: 0;\n      margin-bottom: 0;\n    }\n    p {\n      margin-top: 0;\n      margin-bottom: 0;\n    }\n  }\n   .van-cell--selected {\n    background-color: var(--background-color-light);\n  }\n  .van-cell__value--alone {\n    color: var(--text);\n  }\n  .error {\n    color: var(--red);\n  }\n}\n</style>\n","<template>\n  <span class=\"inzidenz\">\n    <van-tag\n      v-if=\"incidence\"\n      v-text=\"rounded(incidence)\"\n    />\n  </span>\n</template>\n\n<script>\nimport { rkiService } from '@/services/rki.service.js'\n\nexport default {\n  name: 'IncidenceLabel',\n  props: {\n    // See: https://npgeo-corona-npgeo-de.hub.arcgis.com/datasets/917fc37a709542548cc3be077a786c17_0\n    objectId: {\n      type: Number,\n      required: true\n    }\n  },\n  data () {\n    return {\n      error: false,\n      incidence: null\n    }\n  },\n  mounted () {\n    this.getData()\n  },\n  methods: {\n    getData () {\n      rkiService.getIncidence(this.objectId)\n        .then(data => {\n          const attribute = data.features[0].attributes\n          this.incidence = attribute.cases7_per_100k\n        })\n        .catch(error => {\n          console.error(error)\n          this.error = 'Fehler beim Laden der Daten vom RKI-Server'\n        })\n    },\n    rounded (value) {\n      return Number(value.toFixed(1))\n    }\n  }\n}\n</script>\n","import { render } from \"./IncidenceLabel.vue?vue&type=template&id=5c386130\"\nimport script from \"./IncidenceLabel.vue?vue&type=script&lang=js\"\nexport * from \"./IncidenceLabel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/covid-ampel-widget/covid-ampel-widget/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Landkreise.vue?vue&type=template&id=3012ec4c\"\nimport script from \"./Landkreise.vue?vue&type=script&lang=js\"\nexport * from \"./Landkreise.vue?vue&type=script&lang=js\"\n\nimport \"./Landkreise.vue?vue&type=style&index=0&id=3012ec4c&lang=scss\"\n\nimport exportComponent from \"/home/runner/work/covid-ampel-widget/covid-ampel-widget/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Config.vue?vue&type=template&id=cfe782c0&scoped=true\"\nimport script from \"./Config.vue?vue&type=script&lang=js\"\nexport * from \"./Config.vue?vue&type=script&lang=js\"\n\nimport \"./Config.vue?vue&type=style&index=0&id=cfe782c0&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/covid-ampel-widget/covid-ampel-widget/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-cfe782c0\"]])\n\nexport default __exports__"],"names":["id","class","_createElementVNode","_createElementBlock","_hoisted_1","_createVNode","_component_doc_head","$data","metaInfo","_component_van_sticky","_component_van_nav_bar","title","onClickLeft","$options","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_component_landkreise","isLoading","_createBlock","_component_van_loading","size","color","vertical","error","_component_van_icon","name","_toDisplayString","_component_van_index_bar","_Fragment","_renderList","data","item","OBJECTID","index","_component_van_index_anchor","label","_component_van_cell","clickable","icon","_normalizeClass","selectedClass","onClick","$event","_withCtx","GEN","BEZ","_component_incidence_label","incidence","_component_van_tag","rounded","props","objectId","type","Number","required","mounted","this","getData","methods","rkiService","then","attribute","features","attributes","cases7_per_100k","catch","console","value","toFixed","__exports__","components","IncidenceLabel","selectedValue","result","forEach","charAt","push","localStorage","getItem","log","finally","track","setItem","trackSelection","$router","$gtag","event","event_category","event_label","DocHead","Landkreise","render"],"sourceRoot":""}