(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["config~21833f8f"],{1071:function(e,t,n){"use strict";n.r(t);var c=n("7a23"),o=function(e){return Object(c["pushScopeId"])("data-v-cfe782c0"),e=e(),Object(c["popScopeId"])(),e},r={id:"config-view"},a={class:"container"},l={class:"head"},i=o((function(){return Object(c["createElementVNode"])("p",null," Wählen sie bitte den gewünschten Landkreis aus: ",-1)})),s=o((function(){return Object(c["createElementVNode"])("p",null," Diese Einstellung wird nur lokal im Browser gespeichert. ",-1)}));function d(e,t,n,o,d,u){var b=Object(c["resolveComponent"])("doc-head"),O=Object(c["resolveComponent"])("van-nav-bar"),j=Object(c["resolveComponent"])("van-sticky"),f=Object(c["resolveComponent"])("landkreise");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",r,[Object(c["createVNode"])(b,{"meta-info":d.metaInfo},null,8,["meta-info"]),Object(c["createVNode"])(j,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(O,{title:"Einstellungen","left-text":"Zurück","left-arrow":"",onClickLeft:u.onClickLeft},null,8,["onClickLeft"])]})),_:1}),Object(c["createElementVNode"])("div",a,[Object(c["createElementVNode"])("div",l,[i,s,Object(c["createVNode"])(f)])])])}var u=n("f01e"),b={class:"landkreise"},O=Object(c["createTextVNode"])(" Lade Daten … "),j={key:1,class:"error"},f={class:"custom-title"};function k(e,t,n,o,r,a){var l=Object(c["resolveComponent"])("van-loading"),i=Object(c["resolveComponent"])("van-icon"),s=Object(c["resolveComponent"])("van-index-anchor"),d=Object(c["resolveComponent"])("incidence-label"),u=Object(c["resolveComponent"])("van-cell"),k=Object(c["resolveComponent"])("van-index-bar");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",b,[r.isLoading?(Object(c["openBlock"])(),Object(c["createBlock"])(l,{key:0,size:"24px",color:"#1989fa",vertical:""},{default:Object(c["withCtx"])((function(){return[O]})),_:1})):Object(c["createCommentVNode"])("",!0),r.error?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",j,[Object(c["createVNode"])(i,{name:"warning-o"}),Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(r.error),1)])):(Object(c["openBlock"])(),Object(c["createBlock"])(k,{key:2,class:"landkreise--list"},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(r.data,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:e.OBJECTID},[e.index?(Object(c["openBlock"])(),Object(c["createBlock"])(s,{key:0,index:e.label},null,8,["index"])):(Object(c["openBlock"])(),Object(c["createBlock"])(u,{key:1,clickable:"","is-link":"",icon:"location-o",class:Object(c["normalizeClass"])(a.selectedClass(e.OBJECTID)),onClick:function(t){return a.onClick(e.OBJECTID)}},{title:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("h4",f,Object(c["toDisplayString"])(e.GEN),1),Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])(e.BEZ),1)]})),default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(d,{"object-id":e.OBJECTID},null,8,["object-id"])]})),_:2},1032,["class","onClick"]))],64)})),128))]})),_:1}))])}n("d3b7"),n("159b");var m=n("7957"),p={class:"inzidenz"};function v(e,t,n,o,r,a){var l=Object(c["resolveComponent"])("van-tag");return Object(c["openBlock"])(),Object(c["createElementBlock"])("span",p,[r.incidence?(Object(c["openBlock"])(),Object(c["createBlock"])(l,{key:0,textContent:Object(c["toDisplayString"])(a.rounded(r.incidence))},null,8,["textContent"])):Object(c["createCommentVNode"])("",!0)])}n("a9e3"),n("b680");var h={name:"IncidenceLabel",props:{objectId:{type:Number,required:!0}},data:function(){return{error:!1,incidence:null}},mounted:function(){this.getData()},methods:{getData:function(){var e=this;m["a"].getIncidence(this.objectId).then((function(t){var n=t.features[0].attributes;e.incidence=n.cases7_per_100k})).catch((function(t){console.error(t),e.error="Fehler beim Laden der Daten vom RKI-Server"}))},rounded:function(e){return Number(e.toFixed(1))}}},C=n("6b0d"),g=n.n(C);const B=g()(h,[["render",v]]);var E=B,N={name:"Landkreise",components:{IncidenceLabel:E},data:function(){return{isLoading:!1,error:null,data:[],selectedValue:null}},mounted:function(){var e=this;this.isLoading=!0,m["a"].getAreas().then((function(t){e.data=[];var n=null;t.forEach((function(t){t.attributes.GEN.charAt(0)!==n&&(n=t.attributes.GEN.charAt(0),e.data.push({OBJECTID:n,index:!0,label:n})),e.data.push(t.attributes)})),e.selectedValue=localStorage.getItem("landkreis")})).catch((function(t){console.log(t),e.error="Fehler beim Laden der Daten vom RKI-Server"})).finally((function(){e.track(),e.isLoading=!1}))},methods:{onClick:function(e){localStorage.setItem("landkreis",e),this.trackSelection(e),this.$router.push("/lkr/".concat(e))},selectedClass:function(e){return this.selectedValue===e?"van-cell--selected ":""},trackSelection:function(e){this.$gtag.event("api_request",{event_category:"lkr_select",event_label:"".concat(e)})},track:function(){this.$gtag.event("api_request",{event_category:"lkr_load",event_label:"lkr_load"})}}};n("86d1");const V=g()(N,[["render",k]]);var I=V,w={name:"ConfigView",components:{DocHead:u["a"],Landkreise:I},data:function(){return{metaInfo:{title:"Einstellungen | Covid-19 Ampel"}}},methods:{onClickLeft:function(){this.$router.push("/")}}};n("28af");const x=g()(w,[["render",d],["__scopeId","data-v-cfe782c0"]]);t["default"]=x},"28af":function(e,t,n){"use strict";n("4b15")},"4b15":function(e,t,n){},"78a4":function(e,t,n){},"86d1":function(e,t,n){"use strict";n("78a4")}}]);
//# sourceMappingURL=config~21833f8f.ab4608c7.js.map