{"version":3,"sources":["webpack:///./src/views/Vaccination.vue?ddb8","webpack:///./src/views/Vaccination.vue","webpack:///./src/components/vaccin/Vaccination.vue","webpack:///./src/services/corona-zahlen.service.js","webpack:///./src/components/vaccin/VaccinationChart.vue","webpack:///./src/components/vaccin/VaccinationChart.vue?7652","webpack:///./src/components/vaccin/Vaccination.vue?0eeb","webpack:///./src/views/Vaccination.vue?04cb","webpack:///./src/components/vaccin/Vaccination.vue?a262"],"names":["id","class","meta-info","metaInfo","title","sticky","align","colspan","href","isLoaded","chart-data","chartData","firstVaccinationQuote","secondVaccinationQuote","CoronaZahlenService","url","axios","get","result","error","console","data","coronaZahlenService","name","extends","props","type","Object","required","options","responsive","aspectRatio","maintainAspectRatio","scales","x","Number","min","max","elements","arc","borderColor","plugins","legend","position","labels","color","display","text","mounted","this","renderChart","components","VaccinationChart","meta","computed","herdImmunity","datasets","label","showLabel","backgroundColor","quote","rounded","secondVaccination","deltaHerdImmunity","created","getData","methods","getVaccinations","then","catch","finally","value","toFixed","render","__scopeId","DocHead","Vaccination"],"mappings":"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","file":"js/vaccination~21833f8f.068597e5.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Vaccination.vue?vue&type=style&index=0&id=6aa4b6ce&lang=sass\"","<template>\n  <div id=\"vaccination-view\">\n    <doc-head :meta-info=\"metaInfo\" />\n    <van-sticky>\n      <van-nav-bar\n        title=\"Impfstatus Deutschland\"\n        sticky\n      />\n    </van-sticky>\n    <div class=\"container\">\n      <div class=\"chart-container\">\n        <vaccination class=\"vaccinationProgress\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport DocHead from '@/components/DocHead.vue'\nimport Vaccination from '@/components/vaccin/Vaccination.vue'\n\nexport default {\n  name: 'PrivaceyView',\n  components: { DocHead, Vaccination },\n  data () {\n    return {\n      metaInfo: {\n        title: 'Impfstatus | Covid-19 Ampel'\n      }\n    }\n  }\n}\n</script>\n<style lang=\"sass\">\n.chart-container\n  position: relative\n  left: auto\n  right: auto\n  height: 33vh\n  width:93vw\n  margin-bottom: 33vh\n\n  .vaccinationProgress\n    background-color: #ebedf0\n    padding: 10px\n    border-radius: 5px\n\n.useful-link\n  .van-cell__title\n    color: var(--blue)\n</style>\n","<template>\n  <vaccination-chart\n    v-if=\"isLoaded\"\n    :chart-data=\"chartData\"\n  />\n  <table id=\"vaccination-table\">\n    <tr>\n      <td>1. Impfung:</td>\n      <td align=\"right\">\n        {{ firstVaccinationQuote }}%\n      </td>\n    </tr>\n    <tr>\n      <td>Vollschutz:</td>\n      <td align=\"right\">\n        {{ secondVaccinationQuote }}%\n      </td>\n    </tr>\n    <tr>\n      <td colspan=\"2\">\n        <em>\n          <small>\n            Quelle: <a href=\"https://api.corona-zahlen.org/\">api.corona-zahlen.org</a>\n          </small>\n        </em>\n      </td>\n    </tr>\n  </table>\n</template>\n\n<script>\nimport { coronaZahlenService } from '@/services/corona-zahlen.service'\nimport VaccinationChart from './VaccinationChart.vue'\n\nexport default {\n  name: 'Vaccination',\n  components: { VaccinationChart },\n  data () {\n    return {\n      isLoaded: false,\n      data: {},\n      meta: {}\n    }\n  },\n  computed: {\n    chartData () {\n      return {\n        labels: ['min. 1. Impfung', 'Vollschutz', `angestrebte Herdenimmunität (${this.herdImmunity}%)`],\n        datasets: [\n          {\n            label: 'Herden Immunität',\n            showLabel: true,\n            backgroundColor: ['rgb(255, 243, 128)', '#41B883', '#fc0008', 'transparent'],\n            data: [\n              0, 0,\n              this.herdImmunity,\n              100 - this.herdImmunity]\n          },\n          {\n            label: 'Vollschutz',\n            backgroundColor: ['rgb(255, 243, 128)', '#41B883', '#fc0008', 'transparent'],\n            data: [\n              this.firstVaccinationQuote,\n              0, 0,\n              100 - this.firstVaccinationQuote]\n          },\n          {\n            label: '1. Impfung',\n            backgroundColor: ['rgb(255, 243, 128)', '#41B883', '#fc0008', 'transparent'],\n            data: [\n              0,\n              this.secondVaccinationQuote,\n              0,\n              100 - this.secondVaccinationQuote]\n          }\n        ]\n      }\n    },\n    firstVaccinationQuote () {\n      if (this.data.quote) {\n        return this.rounded(this.data.quote * 100)\n      } else {\n        return 0\n      }\n    },\n    secondVaccinationQuote () {\n      if (this.data.secondVaccination && this.data.secondVaccination.quote) {\n        return this.rounded(this.data.secondVaccination.quote * 100)\n      } else {\n        return 0\n      }\n    },\n    herdImmunity () {\n      return 70\n    },\n    deltaHerdImmunity () {\n      return this.herdImmunity - this.firstVaccinationQuote - this.secondVaccinationQuote\n    }\n  },\n  created () {\n    this.getData()\n  },\n  methods: {\n    getData () {\n      this.isLoaded = false\n\n      coronaZahlenService.getVaccinations()\n        .then(result => {\n          this.data = result.data\n          this.meta = result.meta\n        })\n        .catch(error => {\n          console.error(error)\n          this.error = 'Fehler beim Laden der Daten von api.corona-zahlen.org'\n        })\n        .finally(() => {\n          this.isLoaded = true\n        })\n    },\n    rounded (value) {\n      return value.toFixed(2)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n#vaccination-table {\n  position: relative;\n  top: -220px;\n  margin-left: auto;\n  margin-right: auto;\n}\n</style>\n","import axios from 'axios'\n\nclass CoronaZahlenService {\n  async getVaccinations () {\n    const url = 'https://api.corona-zahlen.org/vaccinations'\n\n    const result = await axios.get(url)\n    if (result.error) {\n      console.error(result.error)\n    } else {\n      return result.data\n    }\n  }\n}\n\nexport const coronaZahlenService = new CoronaZahlenService()\n","\n<script>\nimport { Doughnut } from 'vue3-chart-v2'\n\nexport default {\n  name: 'VaccinationChart',\n  extends: Doughnut,\n  props: {\n    chartData: {\n      type: Object,\n      required: true\n    }\n  },\n  data () {\n    return {\n      options: {\n        responsive: true,\n        aspectRatio: 2,\n        maintainAspectRatio: false,\n        scales: {\n          x: {\n            type: Number,\n            min: 0,\n            max: 100\n          }\n        },\n        elements: {\n          arc: {\n            borderColor: 'transparent'\n          }\n        },\n        plugins: {\n          legend: {\n            position: 'top',\n            labels: {\n              color: 'var(--text)'\n            }\n          },\n          title: {\n            display: true,\n            text: 'Impfquote Deutschland'\n          }\n        }\n      }\n    }\n  },\n  mounted () {\n    this.renderChart(this.chartData, this.options)\n  }\n}\n</script>\n","import script from \"./VaccinationChart.vue?vue&type=script&lang=js\"\nexport * from \"./VaccinationChart.vue?vue&type=script&lang=js\"\n\nexport default script","import { render } from \"./Vaccination.vue?vue&type=template&id=927d4512&scoped=true\"\nimport script from \"./Vaccination.vue?vue&type=script&lang=js\"\nexport * from \"./Vaccination.vue?vue&type=script&lang=js\"\n\nimport \"./Vaccination.vue?vue&type=style&index=0&id=927d4512&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-927d4512\"\n\nexport default script","import { render } from \"./Vaccination.vue?vue&type=template&id=6aa4b6ce\"\nimport script from \"./Vaccination.vue?vue&type=script&lang=js\"\nexport * from \"./Vaccination.vue?vue&type=script&lang=js\"\n\nimport \"./Vaccination.vue?vue&type=style&index=0&id=6aa4b6ce&lang=sass\"\nscript.render = render\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Vaccination.vue?vue&type=style&index=0&id=927d4512&lang=scss&scoped=true\""],"sourceRoot":""}