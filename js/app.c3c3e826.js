(function(){"use strict";var e={6261:function(e,t,n){var r=n(9963),o=n(6252);const i={id:"view"};function a(e,t,n,r,a,s){const l=(0,o.up)("router-view"),c=(0,o.up)("navigation-bar");return(0,o.wg)(),(0,o.iD)("div",i,[(0,o.Wm)(l),(0,o.Wm)(c)])}function s(e,t,n,r,i,a){const s=(0,o.up)("traffic-lights"),l=(0,o.up)("van-action-bar-icon"),c=(0,o.up)("map-icon"),d=(0,o.up)("help"),u=(0,o.up)("settings"),h=(0,o.up)("more"),f=(0,o.up)("van-action-bar"),p=(0,o.up)("van-sticky");return(0,o.wg)(),(0,o.j4)(p,{position:"bottom"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(l,{to:i.home},{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"icon",{},(()=>[(0,o.Wm)(s)]),!0),(0,o.WI)(e.$slots,"default",{},(()=>[(0,o.Uk)("Home")]),!0)])),_:3},8,["to"]),(0,o.Wm)(l,{to:"/map"},{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"icon",{},(()=>[(0,o.Wm)(c)]),!0),(0,o.WI)(e.$slots,"default",{},(()=>[(0,o.Uk)("Übersicht")]),!0)])),_:3}),(0,o.Wm)(l,{to:"/help"},{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"icon",{},(()=>[(0,o.Wm)(d)]),!0),(0,o.WI)(e.$slots,"default",{},(()=>[(0,o.Uk)("Hilfe")]),!0)])),_:3}),(0,o.Wm)(l,{to:"/config"},{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"icon",{},(()=>[(0,o.Wm)(u)]),!0),(0,o.WI)(e.$slots,"default",{},(()=>[(0,o.Uk)("Einstellungen")]),!0)])),_:3}),(0,o.Wm)(l,{to:"/more"},{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"icon",{},(()=>[(0,o.Wm)(h)]),!0),(0,o.WI)(e.$slots,"default",{},(()=>[(0,o.Uk)("Mehr")]),!0)])),_:3})])),_:3})])),_:3})}const l={xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-traffic-lights",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},c=(0,o.uE)('<path stroke="none" d="M0 0h24v24H0z" fill="none" data-v-7543d7c2></path><rect x="7" y="2" width="10" height="20" rx="5" data-v-7543d7c2></rect><circle cx="12" cy="7" r="1" data-v-7543d7c2></circle><circle cx="12" cy="12" r="1" data-v-7543d7c2></circle><circle cx="12" cy="17" r="1" data-v-7543d7c2></circle>',5),d=[c];function u(e,t){return(0,o.wg)(),(0,o.iD)("svg",l,d)}var h=n(3744);const f={},p=(0,h.Z)(f,[["render",u],["__scopeId","data-v-7543d7c2"]]);var g=p;const m=e=>((0,o.dD)("data-v-66492e55"),e=e(),(0,o.Cn)(),e),v={xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-settings",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},w=m((()=>(0,o._)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1))),b=m((()=>(0,o._)("path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"},null,-1))),y=m((()=>(0,o._)("circle",{cx:"12",cy:"12",r:"3"},null,-1))),k=[w,b,y];function _(e,t){return(0,o.wg)(),(0,o.iD)("svg",v,k)}const I={},D=(0,h.Z)(I,[["render",_],["__scopeId","data-v-66492e55"]]);var x=D;const C=e=>((0,o.dD)("data-v-de9ee18a"),e=e(),(0,o.Cn)(),e),F={xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-help",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},S=C((()=>(0,o._)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1))),Z=C((()=>(0,o._)("circle",{cx:"12",cy:"12",r:"9"},null,-1))),z=C((()=>(0,o._)("line",{x1:"12",y1:"17",x2:"12",y2:"17.01"},null,-1))),j=C((()=>(0,o._)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"},null,-1))),E=[S,Z,z,j];function B(e,t){return(0,o.wg)(),(0,o.iD)("svg",F,E)}const W={},O=(0,h.Z)(W,[["render",B],["__scopeId","data-v-de9ee18a"]]);var $=O;const T=e=>((0,o.dD)("data-v-ae8127d4"),e=e(),(0,o.Cn)(),e),L={class:"icon icon-tabler icon-tabler-more",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},A=T((()=>(0,o._)("circle",{cx:"12",cy:"12",r:"1"},null,-1))),q=T((()=>(0,o._)("circle",{cx:"12",cy:"19",r:"1"},null,-1))),R=T((()=>(0,o._)("circle",{cx:"12",cy:"5",r:"1"},null,-1))),N=[A,q,R];function M(e,t){return(0,o.wg)(),(0,o.iD)("svg",L,N)}const G={},P=(0,h.Z)(G,[["render",M],["__scopeId","data-v-ae8127d4"]]);var H=P;const U=e=>((0,o.dD)("data-v-712178ce"),e=e(),(0,o.Cn)(),e),V={xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-map",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},K=U((()=>(0,o._)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1))),J=U((()=>(0,o._)("polyline",{points:"3 7 9 4 15 7 21 4 21 17 15 20 9 17 3 20 3 7"},null,-1))),Q=U((()=>(0,o._)("line",{x1:"9",y1:"4",x2:"9",y2:"17"},null,-1))),X=U((()=>(0,o._)("line",{x1:"15",y1:"7",x2:"15",y2:"20"},null,-1))),Y=[K,J,Q,X];function ee(e,t){return(0,o.wg)(),(0,o.iD)("svg",V,Y)}const te={},ne=(0,h.Z)(te,[["render",ee],["__scopeId","data-v-712178ce"]]);var re=ne,oe={name:"NavigationBar",components:{TrafficLights:g,Settings:x,Help:$,More:H,MapIcon:re},data(){return{home:"/"}},watch:{$route:"home2lkr"},methods:{home2lkr(){this.home="/";const e=localStorage.getItem("landkreis");return e&&(this.home="/lkr/"+e),this.home}}};const ie=(0,h.Z)(oe,[["render",s],["__scopeId","data-v-3128ba42"]]);var ae=ie,se={components:{NavigationBar:ae}};const le=(0,h.Z)(se,[["render",a]]);var ce=le,de=n(2201),ue=n(8243);const he={id:"home-view"},fe={key:1};function pe(e,t,n,r,i,a){const s=(0,o.up)("doc-head"),l=(0,o.up)("widget");return(0,o.wg)(),(0,o.iD)("div",he,[(0,o.Wm)(s,{"meta-info":i.metaInfo},null,8,["meta-info"]),null!=i.selected?((0,o.wg)(),(0,o.j4)(l,{key:0,"object-id":i.selected},null,8,["object-id"])):((0,o.wg)(),(0,o.iD)("div",fe," Bitte einen Landkreis in den Einstellungen auswählen. "))])}n(7658);var ge=n(6400),me=n(3577),ve=n.p+"img/coronaampel.bfb4dc9b.png";const we=e=>((0,o.dD)("data-v-9a9b3266"),e=e(),(0,o.Cn)(),e),be={class:"widget"},ye={key:0},ke={key:1,class:"error"},_e=["object-id"],Ie={class:"ort"},De={class:"bez"},xe={class:"bez-short"},Ce={class:"name"},Fe=we((()=>(0,o._)("img",{alt:"Corona-Ampel",src:ve,class:"ampel"},null,-1))),Se={class:"info"},Ze=we((()=>(0,o._)("div",null,[(0,o._)("small",null,[(0,o._)("span",{class:"inzidenz-short"},"Inzidenz"),(0,o._)("span",{class:"inzidenz"}," Fälle der letzten 7 Tage pro 100.000 Einwohner ")])],-1))),ze={class:"cases-absolute"},je={class:"time"},Ee=we((()=>(0,o._)("span",{class:"label"},"Stand: ",-1))),Be={class:"data"},We={class:"source"},Oe=we((()=>(0,o._)("span",{class:"label"},"Datenquelle: ",-1))),$e={class:"data"};function Te(e,t,n,r,i,a){const s=(0,o.up)("van-icon"),l=(0,o.up)("intensive-registry"),c=(0,o.up)("share"),d=(0,o.up)("van-pull-refresh");return(0,o.wg)(),(0,o.iD)("div",be,[(0,o.Wm)(d,{modelValue:i.isLoading,"onUpdate:modelValue":t[2]||(t[2]=e=>i.isLoading=e),onRefresh:a.getData},{default:(0,o.w5)((()=>[i.isLoading?((0,o.wg)(),(0,o.iD)("div",ye," Daten werden geladen … ")):(0,o.kq)("",!0),i.error?((0,o.wg)(),(0,o.iD)("div",ke,[(0,o.Wm)(s,{name:"warning-o"}),(0,o.Uk)(" "+(0,me.zw)(i.error),1)])):(0,o.kq)("",!0),i.data?((0,o.wg)(),(0,o.iD)("div",{key:2,class:(0,me.C_)(["wdg",a.incidenceColor]),"object-id":i.data.OBJECTID},[(0,o._)("h3",Ie,[(0,o._)("span",De,(0,me.zw)(i.data.BEZ)+" ",1),(0,o._)("span",xe,(0,me.zw)(a.getBezShort(i.data.IBZ))+" ",1),(0,o._)("span",Ce,(0,me.zw)(i.data.GEN),1)]),(0,o._)("p",{class:"cases",onClick:t[0]||(t[0]=(...e)=>a.shareIncidenceForDistrict&&a.shareIncidenceForDistrict(...e))},[Fe,(0,o.Uk)(" "+(0,me.zw)(a.rounded(i.data.cases7_per_100k))+" ",1),((0,o.wg)(),(0,o.j4)((0,o.LL)("indicator-"+a.indicatorComponentDirection),{class:"indicator"}))]),(0,o._)("div",Se,[Ze,(0,o._)("div",ze,[(0,o._)("small",null," Absolute Fälle der letzten 7 Tage: "+(0,me.zw)(i.casesToday7)+" (Vorwoche: "+(0,me.zw)(i.casesLastWeek7)+") ",1)]),(0,o._)("div",null,[(0,o._)("small",null,[(0,o._)("span",je,[Ee,(0,o._)("span",Be,(0,me.zw)(i.data.last_update),1)]),(0,o._)("span",We,[(0,o.Uk)(", "),Oe,(0,o._)("span",$e,[(0,o._)("a",{class:(0,me.C_)(a.incidenceColor),target:"_blank",rel:"noreferrer",href:"https://experience.arcgis.com/experience/478220a4c454480e823b17327b2bf1d4/page/page_1/"},"RKI",2)])])])])]),(0,o.Wm)(l,{ags:i.data.AGS},null,8,["ags"]),a.isShareable?((0,o.wg)(),(0,o.iD)("div",{key:0,class:"share",onClick:t[1]||(t[1]=(...e)=>a.shareIncidenceForDistrict&&a.shareIncidenceForDistrict(...e))},[(0,o.Wm)(c),(0,o.Uk)(" Inzidenz teilen … ")])):(0,o.kq)("",!0)],10,_e)):(0,o.kq)("",!0)])),_:1},8,["modelValue","onRefresh"])])}var Le=n(3620),Ae=n(2639);const qe=e=>((0,o.dD)("data-v-b9f307cc"),e=e(),(0,o.Cn)(),e),Re={xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-arrow-up-right",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Ne=qe((()=>(0,o._)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1))),Me=qe((()=>(0,o._)("line",{x1:"17",y1:"7",x2:"7",y2:"17"},null,-1))),Ge=qe((()=>(0,o._)("polyline",{points:"8 7 17 7 17 16"},null,-1))),Pe=[Ne,Me,Ge];function He(e,t){return(0,o.wg)(),(0,o.iD)("svg",Re,Pe)}const Ue={},Ve=(0,h.Z)(Ue,[["render",He],["__scopeId","data-v-b9f307cc"]]);var Ke=Ve;const Je=e=>((0,o.dD)("data-v-49bc0bfa"),e=e(),(0,o.Cn)(),e),Qe={xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-arrow-down-right",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Xe=Je((()=>(0,o._)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1))),Ye=Je((()=>(0,o._)("line",{x1:"7",y1:"7",x2:"17",y2:"17"},null,-1))),et=Je((()=>(0,o._)("polyline",{points:"17 8 17 17 8 17"},null,-1))),tt=[Xe,Ye,et];function nt(e,t){return(0,o.wg)(),(0,o.iD)("svg",Qe,tt)}const rt={},ot=(0,h.Z)(rt,[["render",nt],["__scopeId","data-v-49bc0bfa"]]);var it=ot;const at=e=>((0,o.dD)("data-v-3283bde8"),e=e(),(0,o.Cn)(),e),st={xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-arrow-right",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},lt=at((()=>(0,o._)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1))),ct=at((()=>(0,o._)("line",{x1:"5",y1:"12",x2:"19",y2:"12"},null,-1))),dt=at((()=>(0,o._)("line",{x1:"13",y1:"18",x2:"19",y2:"12"},null,-1))),ut=at((()=>(0,o._)("line",{x1:"13",y1:"6",x2:"19",y2:"12"},null,-1))),ht=[lt,ct,dt,ut];function ft(e,t){return(0,o.wg)(),(0,o.iD)("svg",st,ht)}const pt={},gt=(0,h.Z)(pt,[["render",ft],["__scopeId","data-v-3283bde8"]]);var mt=gt;const vt={id:"indicator-unknown"};function wt(e,t){return(0,o.wg)(),(0,o.iD)("span",vt)}const bt={},yt=(0,h.Z)(bt,[["render",wt]]);var kt=yt;const _t={xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-share",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},It=(0,o.uE)('<path stroke="none" d="M0 0h24v24H0z" fill="none" data-v-91b088fe></path><circle cx="6" cy="12" r="3" data-v-91b088fe></circle><circle cx="18" cy="6" r="3" data-v-91b088fe></circle><circle cx="18" cy="18" r="3" data-v-91b088fe></circle><line x1="8.7" y1="10.7" x2="15.3" y2="7.3" data-v-91b088fe></line><line x1="8.7" y1="13.3" x2="15.3" y2="16.7" data-v-91b088fe></line>',6),Dt=[It];function xt(e,t){return(0,o.wg)(),(0,o.iD)("svg",_t,Dt)}const Ct={},Ft=(0,h.Z)(Ct,[["render",xt],["__scopeId","data-v-91b088fe"]]);var St=Ft;const Zt={id:"intensive-registry"};function zt(e,t,n,r,i,a){const s=(0,o.up)("vue-highcharts");return(0,o.wg)(),(0,o.iD)("div",Zt,[i.isLoaded?((0,o.wg)(),(0,o.j4)(s,{key:0,type:"chart",options:a.chartData,"redraw-on-update":!0,"one-to-one-update":!1,"animate-on-update":!0},null,8,["options"])):(0,o.kq)("",!0)])}var jt=n(6154);const Et="https://services7.arcgis.com/mOBPykOjAyBO2ZKk/arcgis/rest/services",Bt=`${Et}/DIVI_Intensivregister_Landkreise/FeatureServer/0`;class Wt{async getIntensiveRegistry(e){const t=`${Bt}/query?where=AGS='${e}'&outFields=*&outSR=4326&f=json`,n=await jt.Z.get(t);if(!n.error){let e;return e=n.data?n.data.features[0].attributes:null,e}console.error(n.error)}}const Ot=new Wt;var $t=n(8667),Tt=n.n($t),Lt=n(8840),At=n.n(Lt),qt=n(4814),Rt=n.n(qt);Rt()(At());var Nt={name:"IntensiveRegistry",components:{VueHighcharts:Tt()},props:{ags:{type:String,required:!0}},data(){return{isLoaded:!1,data:[],meta:{}}},computed:{chartData(){return{colors:["#41B883","#ff5555","rgb(255, 243, 128)","rgb(0, 95, 255)"],chart:{type:"bar",backgroundColor:"rgba(0,0,0,0)"},title:{visible:!1,text:"DIVI Intensivregister",style:{color:"transparent"}},legend:{itemStyle:{color:"#FFFFFF",fontWeight:"normal",fontSize:"smaller"}},tooltip:{enabled:!1},xAxis:{visible:!1,tickLength:2},yAxis:{min:0,max:this.data.betten_gesamt,endOnTick:!1,lineWidth:0,labels:{style:{color:"#FFFFFF"}},title:{text:"DIVI Intensivbetten Belegung",style:{color:"#FFFFFF"}}},plotOptions:{series:{stacking:"normal"}},series:[{name:`frei (${this.data.betten_frei})`,data:[parseFloat(this.data.betten_frei)]},{name:`Covid beatmet (${this.data.faelle_covid_aktuell_beatmet})`,data:[parseFloat(this.data.faelle_covid_aktuell_beatmet)]},{name:`Covid (${this.data.faelle_covid_aktuell})`,data:[parseFloat(this.data.faelle_covid_aktuell)]},{name:`anderweitig belegt (${this.data.betten_belegt-this.data.faelle_covid_aktuell-this.data.faelle_covid_aktuell_beatmet})`,data:[parseFloat(this.data.betten_belegt-this.data.faelle_covid_aktuell-this.data.faelle_covid_aktuell_beatmet)]}]}}},mounted(){this.getData()},methods:{getData(){this.isLoaded=!1,Ot.getIntensiveRegistry(this.ags).then((e=>{this.data=e})).catch((e=>{console.error(e),this.error="Fehler beim Laden der Daten vom Coronavis-Server"})).finally((()=>{this.isLoaded=!0}))}}};const Mt=(0,h.Z)(Nt,[["render",zt],["__scopeId","data-v-a227239a"]]);var Gt=Mt,Pt={name:"Widget",components:{IndicatorInc:Ke,IndicatorDec:it,IndicatorEq:mt,IndicatorUnknown:kt,Share:St,IntensiveRegistry:Gt},mixins:[Ae.a],props:{objectId:{type:String,required:!0}},data(){return{isLoading:!0,error:!1,data:null,casesToday7:null,casesLastWeek7:null,indicator:null}},computed:{incidenceColor(){const e=this.data.cases7_per_100k;return e<35?"widget-green":e<50?"widget-35":e<100?"widget-50":e<200?"widget-100":e<500?"widget-200":"widget-500"},indicatorComponentDirection(){const e=0===this.indicator?"eq":1===this.indicator?"inc":"dec";return e},indicatorEmoji(){const e=0===this.indicator?"➡️":1===this.indicator?"↗️":"↘️";return e},isShareable(){return this.data&&"share"in navigator}},mounted(){this.getData()},cron:{time:3e5,method:"getData"},methods:{getData(){this.isLoading=!0,Le.R.getIncidence(this.objectId).then((e=>{const t=e.features[0].attributes;t&&(this.data=t,this.getIndicator(t))})).catch((e=>{console.error(e),this.error="Fehler beim Laden der Daten vom RKI-Server"})).finally((()=>{this.isLoading=!1,this.track(this.data)}))},rounded(e){return Number(e.toFixed(1))},getIndicator(e){Le.R.getIncidenceHistory(this.data.RS).then((e=>{console.log("historicalData",e),this.casesToday7=e.features.slice(0,7).reduce(((e,t)=>(console.log("casesToday7",t.attributes.AnzahlFall),console.log("date",new Date(t.attributes.Meldedatum).toLocaleDateString()),e+t.attributes.AnzahlFall)),0),this.casesLastWeek7=e.features.slice(8,15).reduce(((e,t)=>(console.log("casesLastWeek7",t.attributes.AnzahlFall),console.log("date",new Date(t.attributes.Meldedatum).toLocaleDateString()),e+t.attributes.AnzahlFall)),0),this.indicator=this.casesToday7===this.casesLastWeek7?0:this.casesToday7>this.casesLastWeek7?1:-1}))},getBezShort(e){switch(e){case 40:return"KS";case 41:return"SK";case 42:case 46:return"K";case 43:case 45:return"LK";default:return"BZ"}},track(e){this.$gtag.event("api_request",{event_category:"inzidenz_load",event_label:`${e.BEZ} ${e.GEN} (${e.OBJECTID})`})},shareIncidenceForDistrict(){if(!this.isShareable)return;const{GEN:e,BEZ:t,cases7_per_100k:n,last_update:r}=this.data,o={title:`Aktuelle 7-Tage Inzidenz in ${e}`,text:`Aktuelle 7-Tage Inzidenz:\nIn ${e} (${t}) wurden in den letzten 7 Tagen\n     ${this.rounded(n)} ${this.indicatorEmoji} Menschen\nvon 100.000 Einwohnern positiv auf 🦠 COVID-19 getestet (${r}):`,url:window.location.href};navigator.share(o)}}};const Ht=(0,h.Z)(Pt,[["render",Te],["__scopeId","data-v-9a9b3266"]]);var Ut=Ht,Vt={name:"Home",components:{Widget:Ut,DocHead:ge.Z},props:{id:{type:String,required:!1,default:null}},data(){return{metaInfo:{title:"Covid-19 Ampel",meta:{vmid:"description",name:"description",description:"Covid-19 Ampel: Behalte den Inzidenzwert deines Landkreises im Blick."}},selected:null}},async mounted(){this.id?(this.selected=this.id,this.persistDistrict()):this.selected=localStorage.getItem("landkreis"),this.selected?this.routeToDistrictSpecificAmpelWidget():"geolocation"in navigator?await navigator.geolocation.getCurrentPosition((async e=>{const t=await Le.R.getDistrictName(e.coords);t||this.routeToConfigPage();const n=await Le.R.getAreas();this.selected=n.find((e=>!!e&&e.attributes.GEN===t)).attributes.OBJECTID,this.persistDistrict(),this.routeToDistrictSpecificAmpelWidget()}),(()=>{this.routeToConfigPage()})):this.routeToConfigPage()},methods:{persistDistrict(){localStorage.setItem("landkreis",this.selected)},routeToDistrictSpecificAmpelWidget(){this.$router.push("/lkr/"+this.selected)},routeToConfigPage(){this.$router.push("/config")}}};const Kt=(0,h.Z)(Vt,[["render",pe]]);var Jt=Kt;const Qt=[{path:"/",component:Jt},{path:"/lkr/:id",component:Jt,props:!0},{path:"/vaccination",component:()=>n.e(231).then(n.bind(n,6455))},{path:"/map",component:()=>n.e(842).then(n.bind(n,8566))},{path:"/config",component:()=>n.e(497).then(n.bind(n,2360))},{path:"/help",component:()=>n.e(39).then(n.bind(n,6941))},{path:"/more",component:()=>n.e(443).then(n.bind(n,6649))},{path:"/about",component:()=>n.e(443).then(n.bind(n,1488))},{path:"/imprint",component:()=>n.e(443).then(n.bind(n,8722))},{path:"/privacy",component:()=>n.e(443).then(n.bind(n,1049))},{path:"/:pathMatch(.*)",component:Jt}],Xt="/covid-ampel-widget/",Yt=(0,de.p7)({history:(0,de.PO)(Xt),routes:Qt});(0,ue.iq)(Yt);var en=Yt,tn=(n(2303),n(294)),nn=(n(1166),n(3013)),rn=(n(8724),n(8902)),on=(n(3088),n(5865)),an=(n(3495),n(1116)),sn=(n(815),n(7183)),ln=(n(9783),n(1861)),cn=(n(6188),n(8480)),dn=(n(2031),n(2022)),un=(n(7077),n(4304)),hn=(n(5203),n(810)),fn=(n(2577),n(5267)),pn=(n(493),n(5160)),gn=(n(3668),n(4398)),mn=(n(4781),n(1458)),vn=(n(9677),n(4798)),wn=(n(8071),n(1640)),bn=(n(4662),n(2406)),yn=(n(8852),n(9192)),kn=(n(1224),n(489),n(6828),n(4509),n(6869),n(7309),n(9043),n(5671),n(354),n(3487),n(9528),n(758),n(1251),n(6608),n(3527),n(4690),n(4201),n(1714)),_n={install:e=>{yn.Z.use("de-DE",kn.Z),e.use(bn.Z),e.use(wn.Z),e.use(vn.Z),e.use(mn.Z),e.use(gn.C),e.use(pn.Z),e.use(fn.Z),e.use(hn.Z),e.use(un.Z),e.use(dn.Z),e.use(cn.Z),e.use(ln.Z),e.use(sn.Z),e.use(an.Z),e.use(on.Z),e.use(rn.Z),e.use(nn.Z),e.use(tn.Z)}},In=n(5205);(0,In.z)("/covid-ampel-widget/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; refresh."),window.location.reload(!0)},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});const Dn=(0,r.ri)(ce);Dn.use(en),Dn.use(_n),Dn.use(ue.ZP,{property:{id:"G-GDDZX0T7FP"},useDebugger:!1}),Dn.mount("#app")},3620:function(e,t,n){n.d(t,{R:function(){return s}});var r=n(6154);const o="https://services7.arcgis.com/mOBPykOjAyBO2ZKk/arcgis/rest/services",i=`${o}/RKI_Landkreisdaten/FeatureServer/0`;class a{async getIncidence(e){const t=`${i}/query?where=OBJECTID in (${e})&outFields=objectId,last_update,cases7_per_100k,EWZ,BEZ,RS,GEN,IBZ,AGS&returnGeometry=false&f=json`,n=await r.Z.get(t);if(!n.error)return n.data;console.error(n.error)}async getIncidenceHistory(e){const t=`${o}/Covid19_RKI_Sums/FeatureServer/0/query?where=IdLandkreis%3D${e}&objectIds=&time=&resultType=none&outFields=AnzahlFall,SummeFall,Meldedatum&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnDistinctValues=false&cacheHint=false&orderByFields=Meldedatum+DESC&groupByFieldsForStatistics=&outStatistics=&having=&resultOffset=&resultRecordCount=15&sqlFormat=none&f=json`,n=await r.Z.get(t);if(!n.error)return n.data;console.error(n.error)}async getAreas(){const e=`${i}/query?where=1%3D1&geometryType=esriGeometryEnvelope&inSR=&spatialRel=esriSpatialRelIntersects&units=esriSRUnit_Meter&returnGeodetic=false&outFields=objectId%2CBEZ%2CGEN&returnGeometry=false&returnCentroid=false&featureEncoding=esriDefault&multipatchOption=xyFootprint&maxAllowableOffset=&geometryPrecision=&outSR=&datumTransformation=&applyVCSProjection=false&returnIdsOnly=false&returnUniqueIdsOnly=false&returnCountOnly=false&returnExtentOnly=false&returnQueryGeometry=false&returnDistinctValues=true&cacheHint=false&orderByFields=GEN&resultRecordCount=1000&returnZ=false&returnM=false&returnExceededLimitFeatures=false&quantizationParameters=&sqlFormat=none&f=pjson`,t=await r.Z.get(e);if(!t.error)return t.data.features;console.error(t.error)}async getDistrictName({latitude:e,longitude:t}){const n=`${i}/query?where=1%3D1&outFields=RS,GEN,cases7_bl_per_100k,cases7_per_100k,BL&geometry=${t.toFixed(3)}%2C${e.toFixed(3)}&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelWithin&returnGeometry=false&outSR=4326&f=json`,o=await r.Z.get(n);if(!o.error){const{features:e}=o.data;return e.length>0?e[0].attributes.GEN.toString():null}console.error(o.error)}}const s=new a},6400:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(6252),o=n(3577);const i=["content"],a=["content"];function s(e,t,n,s,l,c){return n.metaInfo?((0,r.wg)(),(0,r.j4)(r.lR,{key:0,to:"head"},[(0,r._)("title",null,(0,o.zw)(n.metaInfo.title),1),n.metaInfo.meta?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[n.metaInfo.meta.description?((0,r.wg)(),(0,r.iD)("meta",{key:0,property:"og:description",content:n.metaInfo.meta.description},null,8,i)):(0,r.kq)("",!0),n.metaInfo.meta.img?((0,r.wg)(),(0,r.iD)("meta",{key:1,property:"og:image:url",content:n.metaInfo.meta.img.url},null,8,a)):(0,r.kq)("",!0)],64)):(0,r.kq)("",!0)])):(0,r.kq)("",!0)}var l={props:{metaInfo:{type:Object,required:!1,default:null}}},c=n(3744);const d=(0,c.Z)(l,[["render",s]]);var u=d}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,i){if(!r){var a=1/0;for(d=0;d<e.length;d++){r=e[d][0],o=e[d][1],i=e[d][2];for(var s=!0,l=0;l<r.length;l++)(!1&i||a>=i)&&Object.keys(n.O).every((function(e){return n.O[e](r[l])}))?r.splice(l--,1):(s=!1,i<a&&(a=i));if(s){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[r,o,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+{39:"help",231:"vaccination",443:"about",497:"config",842:"map"}[e]+"."+{39:"c0343bf6",231:"6e5fc0c6",443:"55754f51",497:"aac7e5d5",842:"9210f93a"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+{39:"help",231:"vaccination",443:"about",497:"config",842:"map"}[e]+"."+{39:"649c4746",231:"ff89667d",443:"193f6a5b",497:"4fdfd6a8",842:"471be6cf"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="covid-ampel:";n.l=function(r,o,i,a){if(e[r])e[r].push(o);else{var s,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+i){s=u;break}}s||(l=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[o];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(f);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/covid-ampel-widget/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,r,o){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css";var a=function(n){if(i.onerror=i.onload=null,"load"===n.type)r();else{var a=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=a,l.request=s,i.parentNode.removeChild(i),o(l)}};return i.onerror=i.onload=a,i.href=t,n?n.parentNode.insertBefore(i,n.nextSibling):document.head.appendChild(i),i},t=function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=n[r],i=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(i===e||i===t))return o}var a=document.getElementsByTagName("style");for(r=0;r<a.length;r++){o=a[r],i=o.getAttribute("data-href");if(i===e||i===t)return o}},r=function(r){return new Promise((function(o,i){var a=n.miniCssF(r),s=n.p+a;if(t(a,s))return o();e(r,s,null,o,i)}))},o={143:0};n.f.miniCss=function(e,t){var n={39:1,231:1,443:1,497:1,842:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=r(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))}}}(),function(){var e={143:0};n.f.j=function(t,r){var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise((function(n,r){o=e[t]=[n,r]}));r.push(o[2]=i);var a=n.p+n.u(t),s=new Error,l=function(r){if(n.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,o[1](s)}};n.l(a,l,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,i,a=r[0],s=r[1],l=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)var d=l(n)}for(t&&t(r);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},r=self["webpackChunkcovid_ampel"]=self["webpackChunkcovid_ampel"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(6261)}));r=n.O(r)})();
//# sourceMappingURL=app.c3c3e826.js.map